<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LinkedIn Content Machine</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:        #0d0d0d;
      --surface:   #141414;
      --card:      #1a1a1a;
      --border:    #2a2a2a;
      --accent:    #00e5ff;
      --accent2:   #7c3aed;
      --green:     #22c55e;
      --yellow:    #f59e0b;
      --red:       #ef4444;
      --pink:      #ec4899;
      --text:      #e2e2e2;
      --muted:     #666;
      --radius:    10px;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'JetBrains Mono', monospace;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
    header {
      padding: 20px 32px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 16px;
      background: var(--surface);
    }
    header .logo {
      font-size: 11px;
      color: var(--accent);
      letter-spacing: 3px;
      text-transform: uppercase;
    }
    header h1 {
      font-size: 18px;
      font-weight: 600;
      color: #fff;
    }
    header .badge {
      margin-left: auto;
      font-size: 10px;
      padding: 4px 10px;
      border-radius: 20px;
      border: 1px solid var(--accent);
      color: var(--accent);
      letter-spacing: 1px;
    }

    /* ‚îÄ‚îÄ MAIN LAYOUT ‚îÄ‚îÄ */
    .workspace {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* ‚îÄ‚îÄ LEFT SIDEBAR ‚îÄ‚îÄ */
    .sidebar {
      width: 280px;
      min-width: 280px;
      border-right: 1px solid var(--border);
      padding: 20px 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      background: var(--surface);
    }
    .sidebar-title {
      font-size: 10px;
      letter-spacing: 2px;
      color: var(--muted);
      text-transform: uppercase;
      padding: 0 8px 12px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 4px;
    }

    .card {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px 16px;
      cursor: pointer;
      transition: all 0.2s;
      background: var(--card);
      position: relative;
      overflow: hidden;
    }
    .card::before {
      content: '';
      position: absolute;
      left: 0; top: 0; bottom: 0;
      width: 3px;
      background: var(--card-color, var(--accent));
      border-radius: 3px 0 0 3px;
    }
    .card:hover {
      border-color: var(--card-color, var(--accent));
      background: #1f1f1f;
      transform: translateX(2px);
    }
    .card.active {
      border-color: var(--card-color, var(--accent));
      background: #1f1f1f;
      box-shadow: 0 0 0 1px var(--card-color, var(--accent))22;
    }
    .card-num {
      font-size: 10px;
      color: var(--card-color, var(--accent));
      letter-spacing: 1px;
      margin-bottom: 6px;
    }
    .card-title {
      font-size: 13px;
      font-weight: 600;
      color: #fff;
      margin-bottom: 4px;
    }
    .card-sub {
      font-size: 11px;
      color: var(--muted);
    }
    .card-icon {
      position: absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      opacity: 0.25;
    }

    /* ‚îÄ‚îÄ DETAIL PANEL ‚îÄ‚îÄ */
    .detail {
      flex: 1;
      overflow-y: auto;
      padding: 28px 32px;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .detail-header {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border);
    }
    .detail-icon-wrap {
      width: 52px;
      height: 52px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }
    .detail-header h2 {
      font-size: 20px;
      font-weight: 700;
      color: #fff;
    }
    .detail-header p {
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
      line-height: 1.6;
    }

    .section-label {
      font-size: 10px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 10px;
    }

    /* Tools grid */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 10px;
    }
    .tool-chip {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 14px;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: border-color 0.2s;
    }
    .tool-chip:hover { border-color: #444; }
    .tool-dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .tool-name { font-size: 12px; font-weight: 500; color: #ddd; }
    .tool-type { font-size: 10px; color: var(--muted); margin-top: 2px; }

    /* Steps */
    .steps { display: flex; flex-direction: column; gap: 0; }
    .step {
      display: flex;
      gap: 16px;
      position: relative;
    }
    .step:not(:last-child) .step-line {
      position: absolute;
      left: 15px;
      top: 34px;
      bottom: -4px;
      width: 1px;
      background: var(--border);
    }
    .step-num {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 600;
      flex-shrink: 0;
      margin-top: 2px;
      color: var(--step-color, var(--accent));
      border-color: var(--step-color, var(--accent));
      background: var(--bg);
      z-index: 1;
    }
    .step-body { padding-bottom: 20px; }
    .step-title { font-size: 13px; font-weight: 600; color: #fff; margin-bottom: 4px; }
    .step-desc { font-size: 11px; color: var(--muted); line-height: 1.7; }
    .step-code {
      margin-top: 8px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 10px 14px;
      font-size: 11px;
      color: var(--accent);
      overflow-x: auto;
      white-space: pre;
    }

    /* Flow diagram */
    .flow {
      display: flex;
      align-items: center;
      gap: 0;
      flex-wrap: wrap;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px 20px;
    }
    .flow-node {
      padding: 8px 14px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 500;
      border: 1px solid var(--border);
      background: var(--bg);
      color: #ddd;
      white-space: nowrap;
    }
    .flow-arrow {
      color: var(--muted);
      padding: 0 8px;
      font-size: 14px;
    }

    /* ‚îÄ‚îÄ BOTTOM: FILE STRUCTURE + COMMANDS ‚îÄ‚îÄ */
    .bottom-panel {
      border-top: 1px solid var(--border);
      background: var(--surface);
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    .bottom-section {
      padding: 24px 28px;
    }
    .bottom-section:first-child {
      border-right: 1px solid var(--border);
    }
    .bottom-section h3 {
      font-size: 11px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 16px;
    }

    /* File tree */
    .tree { font-size: 12px; line-height: 2; }
    .tree-line { display: flex; align-items: center; gap: 8px; }
    .tree-indent { padding-left: 20px; }
    .tree-indent2 { padding-left: 40px; }
    .t-dir { color: var(--accent); font-weight: 500; }
    .t-file { color: #aaa; }
    .t-comment { color: var(--muted); font-size: 11px; }
    .tree-branch { color: #444; }

    /* Commands */
    .cmd-list { display: flex; flex-direction: column; gap: 8px; }
    .cmd-item {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px 14px;
      font-size: 11px;
    }
    .cmd-prompt { color: var(--green); }
    .cmd-text { color: var(--accent); }
    .cmd-comment { color: var(--muted); display: block; margin-top: 2px; font-size: 10px; }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #444; }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .detail-content { animation: fadeIn 0.25s ease; }

    /* Status dot */
    .status-dot {
      display: inline-block;
      width: 6px; height: 6px;
      border-radius: 50%;
      background: var(--green);
      margin-right: 6px;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    .tag {
      display: inline-block;
      font-size: 10px;
      padding: 2px 8px;
      border-radius: 4px;
      border: 1px solid;
      margin-right: 6px;
      margin-top: 4px;
    }
  </style>
</head>
<body>

<header>
  <div class="logo">// system</div>
  <h1>LinkedIn Content Machine</h1>
  <div class="badge"><span class="status-dot"></span>ACTIVE</div>
</header>

<div class="workspace">

  <!-- LEFT SIDEBAR -->
  <nav class="sidebar">
    <div class="sidebar-title">Pipeline Modules</div>

    <div class="card active" style="--card-color:#00e5ff" onclick="show(0, this)">
      <div class="card-num">01 ¬∑</div>
      <div class="card-title">–°–∫—Ä–µ–ø–∏–Ω–≥ —Ç–µ–º</div>
      <div class="card-sub">Puppeteer MCP ¬∑ Google Trends</div>
      <div class="card-icon">üîç</div>
    </div>

    <div class="card" style="--card-color:#7c3aed" onclick="show(1, this)">
      <div class="card-num">02 ¬∑</div>
      <div class="card-title">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
      <div class="card-sub">Claude API ¬∑ Tone of Voice</div>
      <div class="card-icon">‚úçÔ∏è</div>
    </div>

    <div class="card" style="--card-color:#ec4899" onclick="show(2, this)">
      <div class="card-num">03 ¬∑</div>
      <div class="card-title">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫</div>
      <div class="card-sub">Nano Banana ¬∑ Replicate SDXL</div>
      <div class="card-icon">üé®</div>
    </div>

    <div class="card" style="--card-color:#f59e0b" onclick="show(3, this)">
      <div class="card-num">04 ¬∑</div>
      <div class="card-title">–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥</div>
      <div class="card-sub">Buffer API ¬∑ cron</div>
      <div class="card-icon">üì°</div>
    </div>

    <div class="card" style="--card-color:#22c55e" onclick="show(4, this)">
      <div class="card-num">05 ¬∑</div>
      <div class="card-title">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
      <div class="card-sub">Feedback Loop ¬∑ Metrics</div>
      <div class="card-icon">üìä</div>
    </div>
  </nav>

  <!-- DETAIL PANEL -->
  <main class="detail" id="detail">
    <!-- filled by JS -->
  </main>

</div>

<!-- BOTTOM PANEL -->
<div class="bottom-panel">

  <div class="bottom-section">
    <h3>// –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h3>
    <div class="tree">
      <div class="tree-line"><span class="t-dir">linkedin-machine/</span></div>
      <div class="tree-indent">
        <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-dir">src/</span></div>
        <div class="tree-indent">
          <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">scraper.js</span> <span class="t-comment">// Puppeteer MCP + Trends</span></div>
          <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">generator.js</span> <span class="t-comment">// Claude API calls</span></div>
          <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">image.js</span> <span class="t-comment">// Replicate SDXL</span></div>
          <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">poster.js</span> <span class="t-comment">// Buffer API</span></div>
          <div class="tree-line"><span class="tree-branch">‚îî‚îÄ</span> <span class="t-file">analytics.js</span> <span class="t-comment">// metrics + loop</span></div>
        </div>
        <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-dir">prompts/</span></div>
        <div class="tree-indent">
          <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">tone-of-voice.md</span></div>
          <div class="tree-line"><span class="tree-branch">‚îî‚îÄ</span> <span class="t-file">post-template.md</span></div>
        </div>
        <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-dir">config/</span></div>
        <div class="tree-indent">
          <div class="tree-line"><span class="tree-branch">‚îî‚îÄ</span> <span class="t-file">.env</span> <span class="t-comment">// API keys</span></div>
        </div>
        <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">index.js</span> <span class="t-comment">// entry point</span></div>
        <div class="tree-line"><span class="tree-branch">‚îú‚îÄ</span> <span class="t-file">cron.js</span> <span class="t-comment">// scheduler</span></div>
        <div class="tree-line"><span class="tree-branch">‚îî‚îÄ</span> <span class="t-file">package.json</span></div>
      </div>
    </div>
  </div>

  <div class="bottom-section">
    <h3>// –ö–æ–º–∞–Ω–¥—ã Claude Code</h3>
    <div class="cmd-list">
      <div class="cmd-item">
        <span class="cmd-prompt">$ </span><span class="cmd-text">claude "–ù–∞–ø–∏—à–∏ scraper.js ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ Google Trends —á–µ—Ä–µ–∑ Puppeteer MCP"</span>
        <span class="cmd-comment">// —Å–æ–∑–¥–∞—ë—Ç –º–æ–¥—É–ª—å —Å–∫—Ä–µ–ø–∏–Ω–≥–∞</span>
      </div>
      <div class="cmd-item">
        <span class="cmd-prompt">$ </span><span class="cmd-text">claude "–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π LinkedIn –ø–æ—Å—Ç –Ω–∞ —Ç–µ–º—É {topic} –≤ —Å—Ç–∏–ª–µ tone-of-voice.md"</span>
        <span class="cmd-comment">// –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ Claude API</span>
      </div>
      <div class="cmd-item">
        <span class="cmd-prompt">$ </span><span class="cmd-text">claude "–°–æ–∑–¥–∞–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Replicate SDXL –ø–æ —Ç–µ–º–µ: {post_title}"</span>
        <span class="cmd-comment">// –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–æ–∂–∫–∏</span>
      </div>
      <div class="cmd-item">
        <span class="cmd-prompt">$ </span><span class="cmd-text">claude "–ù–∞—Å—Ç—Ä–æ–π cron-—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –ø–æ—Å—Ç –≤ 9:00 –ø–æ –ú–°–ö –≤ –±—É–¥–Ω–∏"</span>
        <span class="cmd-comment">// –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–∏–Ω–≥–∞</span>
      </div>
      <div class="cmd-item">
        <span class="cmd-prompt">$ </span><span class="cmd-text">claude "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ –Ω–µ–¥–µ–ª—é –∏ —É–ª—É—á—à–∏ tone-of-voice.md"</span>
        <span class="cmd-comment">// —Ñ–∏–¥–±—ç–∫-–ª—É–ø</span>
      </div>
    </div>
  </div>

</div>

<script>
const modules = [
  {
    color: '#00e5ff',
    bg: '#00e5ff18',
    icon: 'üîç',
    title: '–°–∫—Ä–µ–ø–∏–Ω–≥ —Ç–µ–º',
    desc: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Ç–µ–º –∏–∑ Google Trends –∏ –≤–µ–±-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ Puppeteer MCP. –§–æ—Ä–º–∏—Ä—É–µ—Ç –æ—á–µ—Ä–µ–¥—å —Ç–µ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.',
    tags: ['MCP', 'Node.js', 'Cron'],
    tools: [
      { name: 'Puppeteer MCP', type: 'Browser automation', color: '#00e5ff' },
      { name: 'Google Trends', type: 'Topic discovery', color: '#00e5ff' },
      { name: 'RSS Parser', type: 'Feed scraping', color: '#4ade80' },
      { name: 'Cheerio', type: 'HTML parsing', color: '#f59e0b' },
      { name: 'Node-cron', type: 'Scheduler', color: '#7c3aed' },
      { name: 'Redis Queue', type: 'Topic buffer', color: '#ef4444' },
    ],
    flow: ['Google Trends', 'Puppeteer', 'HTML Parser', 'Topic Filter', 'Queue'],
    steps: [
      {
        title: '–ó–∞–ø—É—Å–∫ Puppeteer MCP',
        desc: '–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π –∞–≥–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Google Trends –∏ LinkedIn, —Å–æ–±–∏—Ä–∞–µ—Ç —Ç–æ–ø-10 —Ç—Ä–µ–Ω–¥–æ–≤ –≤ –Ω—É–∂–Ω–æ–π –Ω–∏—à–µ.',
        code: 'mcp__puppeteer__navigate({ url: "https://trends.google.com/trending" })\nmcp__puppeteer__evaluate({ script: "getTrendingTopics()" })'
      },
      {
        title: '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–∫–æ—Ä–∏–Ω–≥ —Ç–µ–º',
        desc: '–¢–µ–º—ã –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏, –æ–±—ä—ë–º—É –ø–æ–∏—Å–∫–∞ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –ü—Ä–æ—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–º—ã —Å score > 0.7.',
        code: 'const scored = topics.map(t => ({ ...t, score: scoreRelevance(t) }))\nconst filtered = scored.filter(t => t.score > 0.7)'
      },
      {
        title: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å',
        desc: '–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –∫–ª–∞–¥—É—Ç—Å—è –≤ Redis-–æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.',
        code: 'await queue.add("content-gen", { topic, score, timestamp })'
      },
    ]
  },
  {
    color: '#7c3aed',
    bg: '#7c3aed18',
    icon: '‚úçÔ∏è',
    title: '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞',
    desc: 'Claude API –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç LinkedIn-–ø–æ—Å—Ç—ã —Å —É—á—ë—Ç–æ–º Tone of Voice –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç A/B –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—é –ø–æ–¥ –∞–ª–≥–æ—Ä–∏—Ç–º LinkedIn.',
    tags: ['Claude API', 'Prompt Engineering', 'A/B'],
    tools: [
      { name: 'Claude API', type: 'claude-sonnet-4-6', color: '#7c3aed' },
      { name: 'Tone of Voice', type: 'Brand guidelines', color: '#ec4899' },
      { name: 'Prompt Templates', type: 'Structured prompts', color: '#f59e0b' },
      { name: 'A/B Generator', type: 'Variant testing', color: '#00e5ff' },
      { name: 'Hook Library', type: 'Opening lines', color: '#22c55e' },
      { name: 'CTA Templates', type: 'Call to action', color: '#ef4444' },
    ],
    flow: ['Topic', 'Tone of Voice', 'Claude API', 'A/B Variants', 'Review'],
    steps: [
      {
        title: '–ó–∞–≥—Ä—É–∑–∫–∞ Tone of Voice',
        desc: '–ß–∏—Ç–∞–µ—Ç—Å—è —Ñ–∞–π–ª tone-of-voice.md ‚Äî —Å—Ç–∏–ª—å –ø–∏—Å—å–º–∞, –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç–∞, —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è.',
        code: 'const tov = fs.readFileSync("prompts/tone-of-voice.md", "utf8")\nconst template = fs.readFileSync("prompts/post-template.md", "utf8")'
      },
      {
        title: '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Claude API',
        desc: 'Claude –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–º—É + ToV + —à–∞–±–ª–æ–Ω –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø–æ—Å—Ç–∞: –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π (–¥–æ 300 —Å–ª–æ–≤) –∏ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π (600+).',
        code: 'const response = await anthropic.messages.create({\n  model: "claude-sonnet-4-6",\n  messages: [{ role: "user", content: buildPrompt(topic, tov) }]\n})'
      },
      {
        title: '–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ A/B —Å–ø–ª–∏—Ç',
        desc: '–ü–æ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –¥–ª–∏–Ω—É, –Ω–∞–ª–∏—á–∏–µ —Ö—É–∫–æ–≤, CTA –∏ —ç–º–æ–¥–∑–∏. –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.',
        code: 'const [varA, varB] = parseTwoVariants(response.content)\nawait db.save({ topic, varA, varB, status: "pending" })'
      },
    ]
  },
  {
    color: '#ec4899',
    bg: '#ec489918',
    icon: 'üé®',
    title: '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫',
    desc: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –æ–±–ª–æ–∂–µ–∫ –¥–ª—è –ø–æ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Replicate SDXL. –ü—Ä–æ–º–ø—Ç—ã —Å—Ç—Ä–æ—è—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º—ã –∏ —Å—Ç–∏–ª—è –±—Ä–µ–Ω–¥–∞.',
    tags: ['Replicate', 'SDXL', 'Nano Banana'],
    tools: [
      { name: 'Replicate API', type: 'SDXL inference', color: '#ec4899' },
      { name: 'Nano Banana', type: 'Fast generation', color: '#f59e0b' },
      { name: 'SDXL 1.0', type: 'Base model', color: '#7c3aed' },
      { name: 'ControlNet', type: 'Composition', color: '#00e5ff' },
      { name: 'Sharp.js', type: 'Post-processing', color: '#22c55e' },
      { name: 'Canvas API', type: 'Text overlay', color: '#ef4444' },
    ],
    flow: ['Post Title', 'SDXL Prompt', 'Replicate', 'Post-process', 'CDN Upload'],
    steps: [
      {
        title: '–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è SDXL',
        desc: 'Claude –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Stable Diffusion –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º—ã –ø–æ—Å—Ç–∞ –∏ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è.',
        code: 'const imgPrompt = await claude.generate(\n  `Create SDXL prompt for LinkedIn cover: "${postTitle}"\n   Style: minimalist, dark, professional, tech`\n)'
      },
      {
        title: '–ó–∞–ø—Ä–æ—Å –∫ Replicate / Nano Banana',
        desc: '–ü—Ä–æ–º–ø—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Replicate SDXL. Nano Banana –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–≤—å—é.',
        code: 'const output = await replicate.run("stability-ai/sdxl", {\n  input: { prompt: imgPrompt, width: 1200, height: 627 }\n})'
      },
      {
        title: '–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ overlay',
        desc: 'Sharp.js –æ–±—Ä–µ–∑–∞–µ—Ç –∏ —Å–∂–∏–º–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. Canvas –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ–≤–µ—Ä–ª–µ–π —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –ø–æ—Å—Ç–∞.',
        code: 'await sharp(imageBuffer)\n  .resize(1200, 627)\n  .jpeg({ quality: 90 })\n  .toFile(`covers/${postId}.jpg`)'
      },
    ]
  },
  {
    color: '#f59e0b',
    bg: '#f59e0b18',
    icon: 'üì°',
    title: '–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥',
    desc: '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π —á–µ—Ä–µ–∑ Buffer API —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ç–∞–π–º–∏–Ω–≥ –¥–ª—è LinkedIn-–∞–ª–≥–æ—Ä–∏—Ç–º–∞. Cron-–¥–∂–æ–±—ã —É–ø—Ä–∞–≤–ª—è—é—Ç –æ—á–µ—Ä–µ–¥—å—é –ø–æ—Å—Ç–æ–≤.',
    tags: ['Buffer API', 'Cron', 'LinkedIn API'],
    tools: [
      { name: 'Buffer API', type: 'Scheduling service', color: '#f59e0b' },
      { name: 'Node-cron', type: 'Job scheduler', color: '#00e5ff' },
      { name: 'LinkedIn API', type: 'Direct posting', color: '#7c3aed' },
      { name: 'BullMQ', type: 'Job queue', color: '#ec4899' },
      { name: 'Retry Logic', type: 'Error recovery', color: '#ef4444' },
      { name: 'Webhook Logger', type: 'Post tracking', color: '#22c55e' },
    ],
    flow: ['Post Queue', 'Scheduler', 'Buffer API', 'LinkedIn', 'Confirm'],
    steps: [
      {
        title: 'Cron-—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ',
        desc: '–ü–æ—Å—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è: –≤—Ç‚Äì—á—Ç 8:00‚Äì9:00 –ø–æ UTC+3. Cron –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—á–µ—Ä–µ–¥—å –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç.',
        code: 'cron.schedule("0 6 * * 2,3,4", async () => {\n  const post = await queue.getNext()\n  if (post) await publishPost(post)\n})'
      },
      {
        title: '–ü—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Buffer',
        desc: 'Buffer API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ review.',
        code: 'await buffer.createUpdate({\n  profile_ids: [LINKEDIN_PROFILE_ID],\n  text: post.content,\n  media: { photo: post.imageUrl },\n  scheduled_at: getOptimalTime()\n})'
      },
      {
        title: '–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ retry',
        desc: '–ö–∞–∂–¥–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è. –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç (–¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫).',
        code: 'await db.update(post.id, { status: "published", publishedAt: new Date() })\nwebhook.notify({ event: "post_published", postId: post.id })'
      },
    ]
  },
  {
    color: '#22c55e',
    bg: '#22c55e18',
    icon: 'üìä',
    title: '–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Ñ–∏–¥–±—ç–∫-–ª—É–ø',
    desc: '–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ—Å—Ç–æ–≤ (–æ—Ö–≤–∞—Ç, —Ä–µ–∞–∫—Ü–∏–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ Tone of Voice –∏ —Ç–µ–º–∞—Ç–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö.',
    tags: ['LinkedIn Analytics', 'Claude API', 'Auto-optimize'],
    tools: [
      { name: 'LinkedIn Analytics', type: 'Native API', color: '#22c55e' },
      { name: 'Claude Analysis', type: 'Pattern detection', color: '#7c3aed' },
      { name: 'Metabase / CSV', type: 'Data storage', color: '#00e5ff' },
      { name: 'Diff Engine', type: 'ToV updater', color: '#ec4899' },
      { name: 'Weekly Report', type: 'Digest generator', color: '#f59e0b' },
      { name: 'A/B Evaluator', type: 'Variant winner', color: '#ef4444' },
    ],
    flow: ['LinkedIn API', 'Metrics DB', 'Claude Analysis', 'ToV Update', 'Next Cycle'],
    steps: [
      {
        title: '–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫',
        desc: 'LinkedIn API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç impressions, reactions, comments, shares –∏ CTR –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤.',
        code: 'const metrics = await linkedin.getPostAnalytics(postId, {\n  fields: ["impressionCount", "likeCount", "commentCount", "shareCount"]\n})'
      },
      {
        title: '–ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —á–µ—Ä–µ–∑ Claude',
        desc: 'Claude –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–ø-5 –ø–æ—Å—Ç–æ–≤ –Ω–µ–¥–µ–ª–∏ –∏ –≤—ã—è–≤–ª—è–µ—Ç: –∫–∞–∫–∏–µ —Ç–µ–º—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Ö—É–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ.',
        code: 'const analysis = await claude.analyze({\n  posts: topPosts,\n  prompt: "Find patterns in high-performing posts. What topics, hooks, and structures work best?"\n})'
      },
      {
        title: '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Tone of Voice',
        desc: '–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ Claude –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç tone-of-voice.md ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —É—Å–ø–µ—à–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —É–±–∏—Ä–∞–µ—Ç –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ.',
        code: 'const updatedToV = await claude.refine(currentToV, analysis.recommendations)\nfs.writeFileSync("prompts/tone-of-voice.md", updatedToV)\nawait git.commit("chore: update tone-of-voice based on weekly analytics")'
      },
    ]
  }
]

function show(idx, el) {
  // update active card
  document.querySelectorAll('.card').forEach(c => c.classList.remove('active'))
  el.classList.add('active')

  const m = modules[idx]
  const detail = document.getElementById('detail')

  detail.innerHTML = `
    <div class="detail-content">
      <div class="detail-header">
        <div class="detail-icon-wrap" style="background:${m.bg}">
          <span>${m.icon}</span>
        </div>
        <div>
          <h2 style="color:${m.color}">${m.title}</h2>
          <p>${m.desc}</p>
          <div style="margin-top:8px">
            ${m.tags.map(t => `<span class="tag" style="color:${m.color};border-color:${m.color}44">${t}</span>`).join('')}
          </div>
        </div>
      </div>

      <div>
        <div class="section-label">// –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
        <div class="tools-grid">
          ${m.tools.map(t => `
            <div class="tool-chip">
              <div class="tool-dot" style="background:${t.color}"></div>
              <div>
                <div class="tool-name">${t.name}</div>
                <div class="tool-type">${t.type}</div>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <div>
        <div class="section-label">// Data Flow</div>
        <div class="flow">
          ${m.flow.map((node, i) => `
            <div class="flow-node" style="${i===0?'border-color:'+m.color+';color:'+m.color:''}">${node}</div>
            ${i < m.flow.length-1 ? '<span class="flow-arrow">‚Üí</span>' : ''}
          `).join('')}
        </div>
      </div>

      <div>
        <div class="section-label">// –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</div>
        <div class="steps">
          ${m.steps.map((s, i) => `
            <div class="step" style="--step-color:${m.color}">
              <div>
                <div class="step-num">${String(i+1).padStart(2,'0')}</div>
                <div class="step-line"></div>
              </div>
              <div class="step-body">
                <div class="step-title">${s.title}</div>
                <div class="step-desc">${s.desc}</div>
                <div class="step-code" style="color:${m.color}">${s.code}</div>
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    </div>
  `
}

// init with first card
show(0, document.querySelector('.card'))
</script>
</body>
</html>
